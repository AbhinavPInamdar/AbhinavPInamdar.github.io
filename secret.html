<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Surprise!!!</title>
  <link rel="stylesheet" href="css/style3.css">
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
    import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBzsTS9XwYUNF-DnSgBmuM4o5cwN0Oufo4",
      authDomain: "example-2d35e.firebaseapp.com",
      databaseURL: "https://example-2d35e-default-rtdb.firebaseio.com",
      projectId: "example-2d35e",
      storageBucket: "example-2d35e.appspot.com",
      messagingSenderId: "30422126838",
      appId: "1:30422126838:web:577828a76417a4d575dcd7",
      measurementId: "G-VZ18DQ5PW8"
    };

    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);

    // Function to log button clicks
    function logButtonClick(buttonName) {
      const buttonRef = ref(database, 'buttonClicks');
      push(buttonRef, {
        button: buttonName,
        timestamp: new Date().toISOString(),
      });
    }

    // Function to fetch and display button clicks
    function fetchButtonClicks() {
      const buttonRef = ref(database, 'buttonClicks');
      onValue(buttonRef, (snapshot) => {
        const clicksList = document.getElementById('clicks-list');
        clicksList.innerHTML = ''; // Clear the list
        const data = snapshot.val();
        if (data) {
          Object.values(data).forEach(click => {
            const listItem = document.createElement('li');
            listItem.textContent = `${click.button} clicked at ${new Date(click.timestamp).toLocaleString()}`;
            clicksList.appendChild(listItem);
          });
        }
      });
    }

    // Add event listeners to buttons
    window.addEventListener("DOMContentLoaded", () => {
      document.getElementById('yes-button').addEventListener('click', () => {
        alert('UH HUHðŸ˜­ðŸ˜­ðŸ˜­');
        logButtonClick('No');
      });

      document.getElementById('yes-wink-button').addEventListener('click', () => {
        alert('Alr LESSSGOOO');
        logButtonClick('Yes ðŸ˜‰');
      });

      // Fetch button clicks when the page loads
      fetchButtonClicks();
    });
  </script>
</head>
<body>
  <div class="container">
    <h1>Can I get a Kiss?</h1>
    <div class="buttons">
      <button id="yes-button">No</button>
      <button id="yes-wink-button">Yes ðŸ˜‰</button>
    </div>

    <!-- List to display button click data -->
  </div>
</body>
</html>
